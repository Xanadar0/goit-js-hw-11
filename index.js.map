{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/?';\n\nexport const findPhotos = searchedValue => {\n    const urlParams = new URLSearchParams({\n        key: '49462102-62c5bd388bb9085ad52d727ed',\n        q: searchedValue,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true, \n    });\n\n    return fetch(`${BASE_URL}${urlParams}`).then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n\n        return response.json();\n    });\n};\n","const gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nexport const createGalleryCardTemplate = photoInfo => {\n  gallery.innerHTML = photoInfo\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n          class=\"gallery-img\"\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"\n          load=\"lazy\"\n        />\n      </a>\n      <ul class=\"gallery-info\">\n        <li class=\"gallery-info-item\">\n          <p class=\"gallery-info-title\">Likes</p>\n          <p class=\"gallery-info-text\">${likes}</p>\n        </li>\n        <li class=\"gallery-info-item\">\n          <p class=\"gallery-info-title\">Views</p>\n          <p class=\"gallery-info-text\">${views}</p>\n        </li>\n        <li class=\"gallery-info-item\">\n          <p class=\"gallery-info-title\">Comments</p>\n          <p class=\"gallery-info-text\">${comments}</p>\n        </li>\n        <li class=\"gallery-info-item\">\n          <p class=\"gallery-info-title\">Downloads</p>\n          <p class=\"gallery-info-text\">${downloads}</p>\n        </li>\n      </ul>\n    </li>`\n    )\n    .join('');\n  }\n\nexport const clearGallery = () => \n  gallery.innerHTML = '';\n\n\nexport const showLoader = () => \n  loader.classList.add('loader');\n\n\nexport const hideLoader = () => \n  loader.classList.remove('loader');\n","import iziToast from \"izitoast\";\nimport axios from 'axios';\nimport { findPhotos } from \"./js/pixabay-api\";\nimport SimpleLightbox from \"simplelightbox\";\nimport {\n  createGalleryCardTemplate,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from \"./js/render-functions\";\n\nconst searchFormEl = document.querySelector('.form-search');\nconst lightbox  = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionPosition: 'bottom',\n    captionsData: 'alt',\n    overlayOpacity: 1,\n});\n\nconst searchFormSubmit = event => {\n    event.preventDefault();\n    const searchedValue = searchFormEl.elements[\"search-text\"].value.trim();\n\n    if (searchedValue === '') {\n        iziToast.warning({\n            message: 'Please enter a search query.',\n            position: 'bottomRight',\n        });\n        return;\n    }\n\n    clearGallery();\n    showLoader();\n\n    findPhotos(searchedValue)\n        .then(data => {\n            hideLoader();\n\n            if (!data.hits || data.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'bottomRight'\n                });\n                searchFormEl.reset();\n                return;\n            }\n\n            createGalleryCardTemplate(data.hits);\n            lightbox.refresh();\n        })\n        .catch(err => {\n            hideLoader();\n            iziToast.error({\n                message: 'An error occurred. Please try again later.',\n                position: 'bottomRight',\n            });\n            console.log(err);\n        });\n};\n\nsearchFormEl.addEventListener('submit', searchFormSubmit);\n\n\n\n\n"],"names":["BASE_URL","findPhotos","searchedValue","urlParams","response","gallery","loader","createGalleryCardTemplate","photoInfo","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","searchFormEl","lightbox","SimpleLightbox","searchFormSubmit","event","iziToast","data","err"],"mappings":"wvBAAA,MAAMA,EAAW,4BAEJC,EAAaC,GAAiB,CACvC,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,GAAGG,CAAS,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MACxB,CAAK,CACL,EClBMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAElCC,EAA4BC,GAAa,CACpDH,EAAQ,UAAYG,EACjB,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,sCAC0BL,CAAa;AAAA;AAAA;AAAA,iBAGlCD,CAAY;AAAA,iBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAOoBC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA,UAI7C,EACA,KAAK,EAAE,CACT,EAEUC,EAAe,IAC1BX,EAAQ,UAAY,GAGTY,EAAa,IACxBX,EAAO,UAAU,IAAI,QAAQ,EAGlBY,EAAa,IACxBZ,EAAO,UAAU,OAAO,QAAQ,EC5C5Ba,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAY,IAAIC,EAAe,aAAc,CAC/C,aAAc,IACd,gBAAiB,SACjB,aAAc,MACd,eAAgB,CACpB,CAAC,EAEKC,EAAmBC,GAAS,CAC9BA,EAAM,eAAc,EACpB,MAAMrB,EAAgBiB,EAAa,SAAS,aAAa,EAAE,MAAM,OAEjE,GAAIjB,IAAkB,GAAI,CACtBsB,EAAS,QAAQ,CACb,QAAS,+BACT,SAAU,aACtB,CAAS,EACD,MACH,CAEDR,IACAC,IAEAhB,EAAWC,CAAa,EACnB,KAAKuB,GAAQ,CAGV,GAFAP,IAEI,CAACO,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACtCD,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,aAC9B,CAAiB,EACDL,EAAa,MAAK,EAClB,MACH,CAEDZ,EAA0BkB,EAAK,IAAI,EACnCL,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMM,GAAO,CACVR,IACAM,EAAS,MAAM,CACX,QAAS,6CACT,SAAU,aAC1B,CAAa,EACD,QAAQ,IAAIE,CAAG,CAC3B,CAAS,CACT,EAEAP,EAAa,iBAAiB,SAAUG,CAAgB"}