{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/?';\n\nexport const findPhotos = searchedValue => {\n    const urlParams = new URLSearchParams({\n        key: '49462102-62c5bd388bb9085ad52d727ed',\n        q: searchedValue,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true, \n    });\n\n    return fetch(`${BASE_URL}${urlParams}`).then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n\n        return response.json();\n    });\n};\n","export const createGalleryCardTemplate = photoInfo => {\n    return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${photoInfo.largeImageURL}\">\n    <img\n      class=\"gallery-img\"\n      src=\"${photoInfo.webformatURL}\"\n      alt=\"${photoInfo.tags}\"\n      loading=\"lazy\"\n    />\n  </a>\n  <ul class=\"gallery-info\">\n    <li class=\"gallery-info-item\">\n      <p class=\"gallery-info-title\">Likes</p>\n      <p class=\"gallery-info-text\">${photoInfo.likes}</p>\n    </li>\n    <li class=\"gallery-info-item\">\n      <p class=\"gallery-info-title\">Views</p>\n      <p class=\"gallery-info-text\">${photoInfo.views}</p>\n    </li>\n    <li class=\"gallery-info-item\">\n      <p class=\"gallery-info-title\">Comments</p>\n      <p class=\"gallery-info-text\">${photoInfo.comments}</p>\n    </li>\n    <li class=\"gallery-info-item\">\n      <p class=\"gallery-info-title\">Downloads</p>\n      <p class=\"gallery-info-text\">${photoInfo.downloads}</p>\n    </li>\n  </ul>\n</li>`;\n};\n","import iziToast from \"izitoast\";\nimport axios from 'axios';\nimport { findPhotos } from \"./js/pixabay-api\";\nimport SimpleLightbox from \"simplelightbox\";\nimport { createGalleryCardTemplate } from \"./js/render-functions\";\n\nconst searchFormEl = document.querySelector('.form-search');\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\nconst lightbox  = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionPosition: 'bottom',\n    captionsData: 'alt',\n    overlayOpacity: 1,\n});\n\nconst searchFormSubmit = event => {\n    event.preventDefault();\n    const searchedValue = searchFormEl.elements[\"search-text\"].value.trim();\n    if (searchedValue === '') {\n        iziToast.warning({\n            message: 'Please enter a search query.',\n            position: 'bottomRight',\n        });\n        return;\n    }\n\n    loaderEl.classList.remove('is-hidden');\n\n    findPhotos(searchedValue)\n        .then(data => {\n            loaderEl.classList.add('is-hidden')\n            if (!data.hits || data.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'bottomRight'\n                });\n                galleryEl.innerHTML = '';\n                searchFormEl.reset();\n                return;\n            }\n\n            const galleryCardsTemplate = data.hits\n                .map(imgDetails => createGalleryCardTemplate(imgDetails))\n                .join('');\n            galleryEl.innerHTML = galleryCardsTemplate;\n            lightbox.refresh();\n        })\n        .catch(err => {\n            loaderEl.classList.add('is-hidden');\n            iziToast.error({\n                message: 'An error occurred. Please try again later.',\n                position: 'bottomRight',\n            });\n            console.log(err);\n        });\n};\n\nsearchFormEl.addEventListener('submit', searchFormSubmit);\n\n\n\n\n"],"names":["BASE_URL","findPhotos","searchedValue","urlParams","response","createGalleryCardTemplate","photoInfo","searchFormEl","galleryEl","loaderEl","lightbox","SimpleLightbox","searchFormSubmit","event","iziToast","data","galleryCardsTemplate","imgDetails","err"],"mappings":"6vBAAA,MAAMA,EAAW,4BAEJC,EAAaC,GAAiB,CACvC,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,GAAGG,CAAS,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MACxB,CAAK,CACL,EClBaC,EAA4BC,GAC9B;AAAA,kCACuBA,EAAU,aAAa;AAAA;AAAA;AAAA,aAG5CA,EAAU,YAAY;AAAA,aACtBA,EAAU,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAOUA,EAAU,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIfA,EAAU,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIfA,EAAU,QAAQ;AAAA;AAAA;AAAA;AAAA,qCAIlBA,EAAU,SAAS;AAAA;AAAA;AAAA,OCnBlDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAC3CC,EAAY,IAAIC,EAAe,aAAc,CAC/C,aAAc,IACd,gBAAiB,SACjB,aAAc,MACd,eAAgB,CACpB,CAAC,EAEKC,EAAmBC,GAAS,CAC9BA,EAAM,eAAc,EACpB,MAAMX,EAAgBK,EAAa,SAAS,aAAa,EAAE,MAAM,OACjE,GAAIL,IAAkB,GAAI,CACtBY,EAAS,QAAQ,CACb,QAAS,+BACT,SAAU,aACtB,CAAS,EACD,MACH,CAEDL,EAAS,UAAU,OAAO,WAAW,EAErCR,EAAWC,CAAa,EACnB,KAAKa,GAAQ,CAEV,GADAN,EAAS,UAAU,IAAI,WAAW,EAC9B,CAACM,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACtCD,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,aAC9B,CAAiB,EACDN,EAAU,UAAY,GACtBD,EAAa,MAAK,EAClB,MACH,CAED,MAAMS,EAAuBD,EAAK,KAC7B,IAAIE,GAAcZ,EAA0BY,CAAU,CAAC,EACvD,KAAK,EAAE,EACZT,EAAU,UAAYQ,EACtBN,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMQ,GAAO,CACVT,EAAS,UAAU,IAAI,WAAW,EAClCK,EAAS,MAAM,CACX,QAAS,6CACT,SAAU,aAC1B,CAAa,EACD,QAAQ,IAAII,CAAG,CAC3B,CAAS,CACT,EAEAX,EAAa,iBAAiB,SAAUK,CAAgB"}